const body=document.querySelector("body"),mainHeader=document.querySelector(".main-header"),burger=document.querySelector(".burger"),burgerNav=document.querySelector(".main-header__nav"),burgerNavLink=burgerNav.querySelectorAll(".nav__link");burger.addEventListener("click",(function(){burger&&burger.classList.toggle("active"),burger.classList.contains("active")?showBurgerNav():closeBurgerNav()}));for(let e=0;e<burgerNavLink.length;e++)burgerNavLink[e].addEventListener("click",(function(){burgerNav.classList.contains("active")&&closeBurgerNav()}));function showBurgerNav(){burgerNav.classList.add("active"),mainHeader.classList.add("active")}function closeBurgerNav(){burger.classList.remove("active"),burgerNav.classList.remove("active"),mainHeader.classList.remove("active")}function testWebP(e){var o=new Image;o.onload=o.onerror=function(){e(2==o.height)},o.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}!function(){const e=document.querySelectorAll(".crop-text");e.forEach(e=>{let o=e.innerHTML.split(" ");o.length>21&&(o=o.slice(0,21).join(" "),e.innerHTML=o+"...")})}(),testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")}));let unlock=!0;function body_lock(e){document.querySelector("body").classList.contains("lock")?body_lock_remove(e):body_lock_add(e)}function body_lock_remove(e){let o=document.querySelector("body");if(unlock){let t=document.querySelectorAll(".lp");setTimeout(()=>{for(let e=0;e<t.length;e++){t[e].style.paddingRight="0px"}o.style.paddingRight="0px",o.classList.remove("lock")},e),unlock=!1,setTimeout((function(){unlock=!0}),e)}}function body_lock_add(e){let o=document.querySelector("body");if(unlock){let t=document.querySelectorAll(".lp");for(let e=0;e<t.length;e++){t[e].style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px"}o.style.paddingRight=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px",o.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),e)}}const linkNav=document.querySelectorAll(".smooth"),V=.1;for(let e of linkNav)e.addEventListener("click",(function(e){e.preventDefault();let o=window.pageYOffset,t=this.href.replace(/[^#]*(.*)/,"$1"),l=document.querySelector(t).getBoundingClientRect().top,n=null;requestAnimationFrame((function e(c){null===n&&(n=c);let r=c-n,a=l<0?Math.max(o-r/V,o+l):Math.min(o+r/V,o+l);window.scrollTo(0,a),a!=o+l?requestAnimationFrame(e):location.hash=t}))}));let modalLinks=document.querySelectorAll(".modal-link");const overlay=document.querySelector(".overlay");if(modalLinks.length>0)for(let e=0;e<modalLinks.length;e++)modalLinks[e].addEventListener("click",e=>{let o=e.target.dataset.modal;modalActive(document.querySelector(""+o))});function modalActive(e){if(e){modalShow(e),e.querySelector(".modal__close").addEventListener("click",()=>{modalClose(e)}),overlay.addEventListener("click",()=>{modalClose(e)}),document.addEventListener("keydown",(function(o){"Escape"===o.code&&modalClose(e)}))}}function modalShow(e){e.classList.add("modal-show"),overlay.classList.add("modal-show"),burgerNav.classList.contains("active")?closeBurgerNav():body_lock(0)}function modalClose(e){e.classList.remove("modal-show"),overlay.classList.remove("modal-show"),body_lock(0)}